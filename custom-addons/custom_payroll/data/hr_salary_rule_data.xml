<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <data>
    
        <record id="hr_salary_rule_data_basic_salary_office" model="hr.salary.rule">
            <field name="name">Basic Salary</field>
            <field name="code">BASIC</field>
            <field name="sequence" eval="10"/>
            <field name="category_id" ref="hr_payroll.BASIC"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = contract.basic_salary</field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_office_pay" />
        </record>
        <record id="hr_salary_rule_data_basic_allowance_office" model="hr.salary.rule">
            <field name="name">Allowance</field>
            <field name="code">ALW</field>
            <field name="sequence" eval="30"/>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = contract.total_allowance</field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_office_pay" />
        </record>
        <record id="hr_salary_rule_data_basic_wage_office" model="hr.salary.rule">
            <field name="name">Wage</field>
            <field name="code">WAGE</field>
            <field name="sequence" eval="50"/>
            <field name="category_id" ref="custom_payroll.hr_salary_rule_category_data_basic_alw"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = categories.BASIC + categories.ALW</field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_office_pay" />
        </record>
        <record id="hr_salary_rule_data_basic_compensation_office" model="hr.salary.rule">
            <field name="name">Compensation</field>
            <field name="code">COMPENSATION</field>
            <field name="sequence" eval="150"/>
            <field name="category_id" ref="custom_payroll.hr_salary_rule_category_data_ind"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = inputs.IND</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result = inputs.IND.amount
result_name = inputs.IND.name
            </field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_office_pay" />
        </record>
        <record id="hr_salary_rule_data_other_payslip_office" model="hr.salary.rule">
            <field name="name">Other Payslip</field>
            <field name="code">OTHER_PAYSLIP</field>
            <field name="sequence" eval="160"/>
            <field name="category_id" ref="custom_payroll.hr_salary_rule_category_data_ind"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = inputs.OTHER_PAYSLIP</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result = inputs.OTHER_PAYSLIP.amount
result_name = inputs.OTHER_PAYSLIP.name
            </field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_office_pay" />
        </record>
        <record id="hr_salary_rule_data_basic_deduction_office" model="hr.salary.rule">
            <field name="name">Deduction</field>
            <field name="code">DEDUCTION</field>
            <field name="sequence" eval="250"/>
            <field name="category_id" ref="hr_payroll.DED"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = inputs.DED</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result = inputs.DED.amount
result_name = inputs.DED.name
            </field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_office_pay" />
        </record>
        <record id="hr_salary_rule_data_gross_office" model="hr.salary.rule">
            <field name="name">Gross</field>
            <field name="code">GROSS</field>
            <field name="sequence" eval="300"/>
            <field name="category_id" ref="hr_payroll.GROSS"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = payslip.paid_amount + categories.IND - categories.DED</field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_office_pay" />
        </record>
        <record id="hr_salary_rule_data_gross_tax_emp_office" model="hr.salary.rule">
            <field name="name">Gross Tax (Employee)</field>
            <field name="code">GROSS_TAX_EMP</field>
            <field name="sequence" eval="310"/>
            <field name="category_id" ref="custom_payroll.hr_salary_rule_category_data_tax_emp"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = payslip.calculate_tax</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = categories.GROSS</field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_office_pay" />
        </record>
        <record id="hr_salary_rule_data_tax_emp_office" model="hr.salary.rule">
            <field name="name">Tax (Employee)</field>
            <field name="code">TAX_EMP</field>
            <field name="sequence" eval="510"/>
            <field name="category_id" ref="hr_salary_rule_category_data_other_rule_emp"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = payslip.calculate_tax</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
gross_tax = categories.TAX_EMP
rate = 0
for line in contract.employee_id.aer_id.range_ids:
    if line.start_range &lt;= gross_tax and line.end_range &gt;= gross_tax:
        rate = line.rate
        break
result = gross_tax*rate/100
            </field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_office_pay" />
        </record>
        <record id="hr_salary_rule_data_gross_tax_comp_office" model="hr.salary.rule">
            <field name="name">Gross Tax (Company)</field>
            <field name="code">GROSS_TAX_COMP</field>
            <field name="sequence" eval="310"/>
            <field name="category_id" ref="custom_payroll.hr_salary_rule_category_data_tax_comp"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = payslip.calculate_tax</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = categories.TAX_EMP + categories.OTHER_RULE_EMP </field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_office_pay" />
        </record>
        <record id="hr_salary_rule_data_tax_comp_office" model="hr.salary.rule">
            <field name="name">Tax (Company)</field>
            <field name="code">TAX_COMP</field>
            <field name="sequence" eval="530"/>
            <field name="category_id" ref="hr_salary_rule_category_data_other_rule_comp"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = payslip.calculate_tax</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
gross_tax = categories.TAX_COMP
rate = 0
for line in contract.employee_id.aer_id.range_ids:
    if line.start_range &lt;= gross_tax and line.end_range &gt;= gross_tax:
        rate = line.rate
        break
result = gross_tax*rate/100
            </field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_office_pay" />
        </record>
        <record id="hr_salary_rule_data_prev_month_tax_emp_office" model="hr.salary.rule">
            <field name="name">Previous Month Tax (Employee)</field>
            <field name="code">PM_TAX_EMP</field>
            <field name="sequence" eval="515"/>
            <field name="category_id" ref="hr_salary_rule_category_data_other_rule_emp"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = inputs.PM_TAX_EMP</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result = inputs.PM_TAX_EMP.amount
result_name = inputs.PM_TAX_EMP.name
            </field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_office_pay" />
        </record> 
        <record id="hr_salary_rule_data_prev_month_tax_comp_office" model="hr.salary.rule">
            <field name="name">Previous Month Tax (Company)</field>
            <field name="code">PM_TAX_COMP</field>
            <field name="sequence" eval="535"/>
            <field name="category_id" ref="hr_salary_rule_category_data_other_rule_comp"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = inputs.PM_TAX_COMP</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result = inputs.PM_TAX_COMP.amount
result_name = inputs.PM_TAX_COMP.name
            </field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_office_pay" />
        </record>
        <record id="hr_salary_rule_data_net_salary_office" model="hr.salary.rule">
            <field name="name">Net Salary</field>
            <field name="code">NET</field>
            <field name="sequence" eval="1000"/>
            <field name="category_id" ref="hr_payroll.NET"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = categories.GROSS - categories.OTHER_RULE_EMP</field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_office_pay" />
        </record>



        <record id="hr_salary_rule_data_basic_salary_worker" model="hr.salary.rule">
            <field name="name">Basic Salary</field>
            <field name="code">BASIC</field>
            <field name="sequence" eval="10"/>
            <field name="category_id" ref="hr_payroll.BASIC"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = payslip.paid_amount</field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_worker_pay" />
        </record>
        <record id="hr_salary_rule_data_basic_allowance_worker" model="hr.salary.rule">
            <field name="name">Allowance</field>
            <field name="code">ALW</field>
            <field name="sequence" eval="30"/>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = contract.total_allowance</field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_worker_pay" />
        </record>
        <record id="hr_salary_rule_data_basic_wage_worker" model="hr.salary.rule">
            <field name="name">Wage</field>
            <field name="code">WAGE</field>
            <field name="sequence" eval="50"/>
            <field name="category_id" ref="custom_payroll.hr_salary_rule_category_data_basic_alw"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = categories.BASIC + categories.ALW</field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_worker_pay" />
        </record>
        <record id="hr_salary_rule_data_basic_compensation_worker" model="hr.salary.rule">
            <field name="name">Compensation</field>
            <field name="code">COMPENSATION</field>
            <field name="sequence" eval="150"/>
            <field name="category_id" ref="custom_payroll.hr_salary_rule_category_data_ind"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = inputs.IND</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result = inputs.IND.amount
result_name = inputs.IND.name
            </field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_worker_pay" />
        </record>
        <record id="hr_salary_rule_data_other_payslip_worker" model="hr.salary.rule">
            <field name="name">Other Payslip</field>
            <field name="code">OTHER_PAYSLIP</field>
            <field name="sequence" eval="160"/>
            <field name="category_id" ref="custom_payroll.hr_salary_rule_category_data_ind"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = inputs.OTHER_PAYSLIP</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result = inputs.OTHER_PAYSLIP.amount
result_name = inputs.OTHER_PAYSLIP.name
            </field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_worker_pay" />
        </record>
        <record id="hr_salary_rule_data_basic_deduction_worker" model="hr.salary.rule">
            <field name="name">Deduction</field>
            <field name="code">DEDUCTION</field>
            <field name="sequence" eval="250"/>
            <field name="category_id" ref="hr_payroll.DED"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = inputs.DED</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result = inputs.DED.amount
result_name = inputs.DED.name
            </field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_worker_pay" />
        </record>
        <record id="hr_salary_rule_data_gross_worker" model="hr.salary.rule">
            <field name="name">Gross</field>
            <field name="code">GROSS</field>
            <field name="sequence" eval="300"/>
            <field name="category_id" ref="hr_payroll.GROSS"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = payslip.paid_amount + categories.IND - categories.DED</field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_worker_pay" />
        </record>
        <record id="hr_salary_rule_data_gross_tax_emp_worker" model="hr.salary.rule">
            <field name="name">Gross Tax (Employee)</field>
            <field name="code">GROSS_TAX_EMP</field>
            <field name="sequence" eval="310"/>
            <field name="category_id" ref="custom_payroll.hr_salary_rule_category_data_tax_emp"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = payslip.calculate_tax</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = categories.GROSS</field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_worker_pay" />
        </record>
        <record id="hr_salary_rule_data_tax_emp_worker" model="hr.salary.rule">
            <field name="name">Tax (Employee)</field>
            <field name="code">TAX_EMP</field>
            <field name="sequence" eval="510"/>
            <field name="category_id" ref="hr_salary_rule_category_data_other_rule_emp"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = payslip.calculate_tax</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
gross_tax = categories.TAX_EMP
rate = 0
for line in contract.employee_id.aer_id.range_ids:
    if line.start_range &lt;= gross_tax and line.end_range &gt;= gross_tax:
        rate = line.rate
        break
result = gross_tax*rate/100
            </field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_worker_pay" />
        </record>
        <record id="hr_salary_rule_data_gross_tax_comp_worker" model="hr.salary.rule">
            <field name="name">Gross Tax (Company)</field>
            <field name="code">GROSS_TAX_COMP</field>
            <field name="sequence" eval="310"/>
            <field name="category_id" ref="custom_payroll.hr_salary_rule_category_data_tax_comp"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = payslip.calculate_tax</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = categories.TAX_EMP + categories.OTHER_RULE_EMP </field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_worker_pay" />
        </record>
        <record id="hr_salary_rule_data_tax_comp_worker" model="hr.salary.rule">
            <field name="name">Tax (Company)</field>
            <field name="code">TAX_COMP</field>
            <field name="sequence" eval="530"/>
            <field name="category_id" ref="hr_salary_rule_category_data_other_rule_comp"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = payslip.calculate_tax</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
gross_tax = categories.TAX_COMP
rate = 0
for line in contract.employee_id.aer_id.range_ids:
    if line.start_range &lt;= gross_tax and line.end_range &gt;= gross_tax:
        rate = line.rate
        break
result = gross_tax*rate/100
            </field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_worker_pay" />
        </record>
        <record id="hr_salary_rule_data_prev_month_tax_emp_worker" model="hr.salary.rule">
            <field name="name">Previous Month Tax (Employee)</field>
            <field name="code">PM_TAX_EMP</field>
            <field name="sequence" eval="515"/>
            <field name="category_id" ref="hr_salary_rule_category_data_other_rule_emp"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = inputs.PM_TAX_EMP</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result = inputs.PM_TAX_EMP.amount
result_name = inputs.PM_TAX_EMP.name
            </field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_worker_pay" />
        </record> 
        <record id="hr_salary_rule_data_prev_month_tax_comp_worker" model="hr.salary.rule">
            <field name="name">Previous Month Tax (Company)</field>
            <field name="code">PM_TAX_COMP</field>
            <field name="sequence" eval="535"/>
            <field name="category_id" ref="hr_salary_rule_category_data_other_rule_comp"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = inputs.PM_TAX_COMP</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result = inputs.PM_TAX_COMP.amount
result_name = inputs.PM_TAX_COMP.name
            </field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_worker_pay" />
        </record>
        <record id="hr_salary_rule_data_net_salary_worker" model="hr.salary.rule">
            <field name="name">Net Salary</field>
            <field name="code">NET</field>
            <field name="sequence" eval="1000"/>
            <field name="category_id" ref="hr_payroll.NET"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = categories.GROSS - categories.OTHER_RULE_EMP</field>
            <field name="struct_id" ref="custom_payroll.hr_payroll_structure_data_kokai_worker_pay" />
        </record>
    
    </data>

</odoo>
